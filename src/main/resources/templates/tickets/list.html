<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head}"></head>
<body class="p-8">
<h1 class="text-xl mb-4">Support Tickets</h1>

<!-- Link to create new ticket -->
<a href="/tickets/create" class="bg-blue-500 text-white p-2 rounded mb-4 inline-block">
    Create New Ticket
</a>

<!-- Table that takes full width with border -->
<table class="w-full border">
    <thead>
    <!-- Header row with light gray background -->
    <tr class="bg-gray-100">
        <th class="p-2">ID</th>
        <th class="p-2">Name</th>
        <th class="p-2">Email</th>
        <th class="p-2">Department</th>
        <th class="p-2">Details</th>
        <th class="p-2">Priority</th>
        <th class="p-2">Status</th>
        <th class="p-2">Date Submitted</th>
    </tr>
    </thead>
    <tbody>
    <!-- Iterate through tickets and display their properties -->
    <tr th:each="ticket : ${tickets}" class="border-t">
        <td class="p-2" th:text="${ticket.ticketId}"></td>
        <td class="p-2" th:text="${ticket.name}"></td>
        <td class="p-2" th:text="${ticket.email}"></td>
        <td class="p-2" th:text="${ticket.clientDepartment}"></td>
        <td class="p-2" th:text="${ticket.details}"></td>
        <td class="p-2" th:text="${ticket.priority}"></td>
        <td class="p-2" th:text="${ticket.status}"></td>
        <td class="p-2" th:text="${ticket.getDateString(ticket.dateSubmitted)}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>